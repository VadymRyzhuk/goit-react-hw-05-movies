{"version":3,"file":"static/js/127.c4fa63c6.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/ErrorMessage/ErrorMessage.module.css?d773","components/ErrorMessage/ErrorMessage.jsx","webpack://react-homework-template/./src/pages/MovieDetailsPage/MovieDetailsPage.module.css?9108","pages/MovieDetailsPage/MovieDetailsPage.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"error\":\"ErrorMessage_error__MR0Ic\",\"messageErrorP\":\"ErrorMessage_messageErrorP__QfDjC\"};","import React from 'react';\nimport css from './ErrorMessage.module.css';\n\nexport const ErrorMessage = () => {\n  //console.log(error);\n  return (\n    <div className={css.error}>\n      <p className={css.messageErrorP}>\n        Sorry, we donâ€™t heve any info about this movie :(\n        {/* {error} */}\n      </p>\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"postWrap\":\"MovieDetailsPage_postWrap__PgZKc\",\"text\":\"MovieDetailsPage_text__vp0Sm\",\"addInfo\":\"MovieDetailsPage_addInfo__981yG\"};","//import { CastPage } from 'pages/CastPage';\n// import CastPage from 'pages/CastPage';\n// import ReviewsPage from 'pages/ReviewsPage';\n//import { ReviewsPage } from 'pages/ReviewsPage';\n\nimport React, { useRef, useState, useEffect, lazy, Suspense } from 'react';\nimport { showMovieDetails } from 'services/api';\nimport { ErrorMessage } from 'components/ErrorMessage/ErrorMessage';\nimport {\n  Routes,\n  Route,\n  NavLink,\n  Link,\n  useLocation,\n  useParams,\n} from 'react-router-dom';\n\nimport css from './MovieDetailsPage.module.css';\nimport { Loader } from 'components/Loader';\n\nconst CastPage = lazy(() => import('pages/CastPage'));\nconst ReviewsPage = lazy(() => import('pages/ReviewsPage'));\n\nexport const defaultImage =\n  'https://cdn4.iconfinder.com/data/icons/small-n-flat/24/movie-alt2-512.png';\n\nconst MovieDetailsPage = () => {\n  const buttonStyle = {\n    marginLeft: 20,\n  };\n  const location = useLocation();\n\n  const backLinkRef = useRef(location.state?.from ?? '/movies');\n  const { movieId } = useParams();\n  //console.log(movieId);\n\n  const [status, setStatus] = useState('idle');\n  const [movieDetails, setMovieDetails] = useState(null);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const showMovieDetailsById = async () => {\n      try {\n        setStatus('pending');\n        const movieData = await showMovieDetails(movieId);\n        setMovieDetails(movieData);\n        //console.log(movieData); //--------------------------------------------------------------------LOG array 20!!\n        setStatus('success');\n      } catch (error) {\n        setError(error.message);\n        setStatus('error');\n      }\n    };\n\n    showMovieDetailsById();\n  }, [movieId]);\n\n  return (\n    <div>\n      <Link to={backLinkRef.current}>\n        <button style={buttonStyle} type=\"button\">\n          Go back\n        </button>\n      </Link>\n      {status === 'error' && <ErrorMessage error={error} />}\n      {status === 'success' && (\n        <div className={css.postWrap}>\n          <div>\n            <img\n              src={\n                movieDetails.poster_path\n                  ? `https://image.tmdb.org/t/p/w500/${movieDetails.poster_path}`\n                  : defaultImage\n              }\n              alt={movieDetails.title}\n              width={280}\n              height={370}\n            />\n            <br />\n            <br />\n          </div>\n\n          <div>\n            <h1>{movieDetails.title}</h1>\n            <p>User score: {Math.round(movieDetails.vote_average * 10)} % </p>\n            <h2>Overview</h2>\n            <p className={css.text}>{movieDetails.overview}</p>\n            <h3>Genres</h3>\n            <p>{movieDetails.genres.map(genre => genre.name).join('  ')}</p>\n          </div>\n        </div>\n      )}\n      {status === 'success' && (\n        <div>\n          <h4 className={css.addInfo}>Additional information:</h4>\n          <ul>\n            <li>\n              <NavLink to=\"cast\">Cast</NavLink>\n            </li>\n            <li>\n              <NavLink to=\"reviews\">Reviews</NavLink>\n            </li>\n          </ul>\n          <div>\n            <Suspense fallback={<Loader />}>\n              <Routes>\n                <Route path=\"cast\" element={<CastPage />} />\n                <Route path=\"reviews\" element={<ReviewsPage />} />\n              </Routes>\n            </Suspense>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MovieDetailsPage;\n","import axios from 'axios';\n\nconst AUTHORIZATION =\n  'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI1NmVkODUxMzQxMDY3YmQ1NjVlY2VkN2IzMWUzMmFjMCIsInN1YiI6IjY1YWFiNzg5ZDk1NDIwMDBjNjIxNWUyMyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.SuKtMD1Cn2_-nHGHgUykclDXuZiTXI9zSkgi4ql7D_Y';\nconst API_KEY = '56ed851341067bd565eced7b31e32ac0';\n\nexport async function showTrendingMovies() {\n  const options = {\n    method: 'GET',\n    url: 'https://api.themoviedb.org/3/trending/all/day',\n    params: {\n      language: 'en-US',\n      api_key: API_KEY,\n    },\n    headers: {\n      accept: 'application/json',\n      Authorization: AUTHORIZATION,\n    },\n  };\n\n  const response = await axios(options);\n\n  return response.data.results;\n}\n\nexport async function searchMovieByQuery(query) {\n  const options = {\n    method: 'GET',\n    url: 'https://api.themoviedb.org/3/search/movie',\n    params: {\n      api_key: API_KEY,\n      query: query,\n      language: 'en-US',\n      page: 1,\n    },\n    headers: {\n      accept: 'application/json',\n      Authorization: AUTHORIZATION,\n    },\n  };\n  const response = await axios(options);\n\n  return response.data.results;\n}\n\nexport async function showMovieDetails(id) {\n  const options = {\n    method: 'GET',\n    url: `https://api.themoviedb.org/3/movie/${id}`,\n    params: {\n      api_key: API_KEY,\n      language: 'en-US',\n    },\n    headers: {\n      accept: 'application/json',\n      Authorization: AUTHORIZATION,\n    },\n  };\n  const response = await axios(options);\n\n  return response.data;\n}\n\nexport async function showMovieCast(id) {\n  const options = {\n    method: 'GET',\n    url: `https://api.themoviedb.org/3/movie/${id}/credits`,\n    params: {\n      api_key: API_KEY,\n      language: 'en-US',\n    },\n    headers: {\n      accept: 'application/json',\n      Authorization: AUTHORIZATION,\n    },\n  };\n  const response = await axios(options);\n\n  return response.data.cast;\n}\n\nexport async function showMovieReview(id) {\n  const options = {\n    method: 'GET',\n    url: `https://api.themoviedb.org/3/movie/${id}/reviews`,\n    params: {\n      api_key: API_KEY,\n      language: 'en-US',\n    },\n    headers: {\n      accept: 'application/json',\n      Authorization: AUTHORIZATION,\n    },\n  };\n  const response = await axios(options);\n\n  return response.data.results;\n}\n"],"names":["ErrorMessage","_jsx","className","css","children","CastPage","lazy","ReviewsPage","defaultImage","_location$state$from","_location$state","location","useLocation","backLinkRef","useRef","state","from","movieId","useParams","_useState","useState","_useState2","_slicedToArray","status","setStatus","_useState3","_useState4","movieDetails","setMovieDetails","_useState5","_useState6","error","setError","useEffect","showMovieDetailsById","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","movieData","_context","prev","next","showMovieDetails","sent","t0","message","stop","apply","arguments","_jsxs","Link","to","current","style","marginLeft","type","src","poster_path","concat","alt","title","width","height","Math","round","vote_average","overview","genres","map","genre","name","join","NavLink","Suspense","fallback","Loader","Routes","Route","path","element","AUTHORIZATION","API_KEY","showTrendingMovies","_showTrendingMovies","options","response","method","url","params","language","api_key","headers","accept","Authorization","axios","abrupt","data","results","searchMovieByQuery","_x","_searchMovieByQuery","_callee2","query","_context2","page","_x2","_showMovieDetails","_callee3","id","_context3","showMovieCast","_x3","_showMovieCast","_callee4","_context4","cast","showMovieReview","_x4","_showMovieReview","_callee5","_context5"],"sourceRoot":""}